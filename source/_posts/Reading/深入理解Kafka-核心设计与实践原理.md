---
date: 2021-03-30 13:00:00
updated: 2021-03-30 13:00:00
typora-root-url: ..\..
---

# 深入理解Kafka: 核心设计与原理实践

![image-2021-03-30 12.58.25.640](/images/image-20210330125825640.png)

# 第5章 日志存储

## 5.1 文件目录布局

kafka文件目录中有很多文件，一般情况下我们只需要掌握`*.index`, `*.log`,`*.timeindex*`即可

![image-2021-03-30 13.04.23.883](/images/image-20210330130423883.png)

## 5.2 日志格式的演变

> 从0.8.x版本开始到现在的2.0.0版本，Kafka的消息格式也经历了3个版本：v0版本、v1版本和v2版本。

分区由一条条消息组成，如果消息设计的不够合理，分区的功能和性能会受到影响，








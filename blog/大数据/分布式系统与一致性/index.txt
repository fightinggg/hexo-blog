---
date: 2021-11-08 13:48:00
updated: 2021-11-08 13:48:00
tags: 读书
clickbait:
  - 分布式系统
---



# 1. 分布式系统的核心特性： 一致性

互联网应用架构从单机系统到分布式系统，历经了很多次架构转变。

在最开始的时候，单机服务器能解决所有问题，随着用户的增加，单机服务器遇到了瓶颈，简单的解决办法就是给服务器升级更强大的CPU、容量更大的内存、储存设备，这是垂直拓展的解决方案。

随着用户量的继续增加，昂贵的高性能服务器也遇到了瓶颈，于是出现了增加服务器数量的水平扩展解决方案，通过一台负载均衡器将请求分发到各个机器上，但是这个阶段就开始遇到了数据的问题，如果服务器上缓存了用户的数据，但是该用户的下一次请求被分发到了其他服务器，那么缓存的作用就失效了，这时应用服务器被分成了无状态服务器和数据库两部分，无状态服务器上不储存数据，数据库分为持久数据库和缓存数据库，缓存数据库读写性能高，用作缓存；持久数据库用作数据储存，用作持久化。

但用户量还在增加，很快数据库成为了瓶颈，于是一个大系统就被拆分为多个子系统，每个子系统拥有自己独立的数据库，子系统间互相配合，共同构成一个庞大的服务。

直到最后，单个子系统的数据库也不堪重负，这个数据库也无法储存如此庞大的数据，数据必须要拆分到多个服务器上了，至此，互联网应用成为了一个彻底的分布式应用，而此时碰到了分布式系统的核心问题： 一致性问题。



